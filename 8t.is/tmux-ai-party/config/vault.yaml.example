# Tmux AI Assistant - Secure Vault Example
# Copy to vault.yaml and add your actual values
# In production, this file should be encrypted!
# Trisha says: "Security first, always!" 🔐

# Passwords (context hash -> password)
# The context hash is generated from the prompt context
passwords:
  # Example: sudo password for specific server
  # Context: "[sudo] password for user@server"
  # Hash: first 16 chars of SHA256
  "a1b2c3d4e5f6g7h8": "your_sudo_password_here"
  
  # Example: MySQL root password
  # Context: "Enter password for root@localhost"
  "m9n8o7p6q5r4s3t2": "your_mysql_password_here"

# Automated Responses
# Pattern -> Response mapping
auto_responses:
  # Confirmations
  "Continue\\?.*\\(y/n\\)": "y"
  "Save changes.*\\?": "y"
  "Overwrite.*\\?": "n"  # Safe default
  "Delete.*\\?": "n"     # Safe default
  
  # Package managers
  "Do you want to continue.*apt": "Y"
  "Proceed with installation": "y"
  
  # Git operations
  "Delete branch.*\\?": "n"
  "Force push.*\\?": "n"  # Safety first!
  
  # Development
  "Run migrations.*\\?": "y"
  "Create database.*\\?": "y"
  "Drop database.*\\?": "n"  # Careful!

# Custom Patterns
# For complex decision logic
patterns:
  # Example: Different responses based on context
  apt_upgrade:
    pattern: "\\d+ upgraded.*\\d+ newly installed"
    check_size: true
    max_size_mb: 500  # Auto-approve if under 500MB
    
  git_merge:
    pattern: "Merge.*into.*\\?"
    check_branch: true
    allowed_branches: ["develop", "staging"]
    
  npm_install:
    pattern: "added \\d+ packages"
    check_vulnerabilities: true
    max_vulnerabilities: 0  # Don't auto-proceed if vulnerabilities

# Orchestration Rules
# For full automation mode
orchestration:
  # Enable specific automations
  enabled_categories:
    - confirmations
    - package_managers
    - development
    
  # Disable for safety
  disabled_patterns:
    - ".*production.*"
    - ".*delete.*"
    - ".*drop.*"
    - ".*force.*"
    
  # Require manual confirmation for these
  require_confirmation:
    - ".*sudo.*"
    - ".*root.*"
    - ".*admin.*"

# Session-specific Rules
# Different rules for different tmux sessions
session_rules:
  development:
    automation_level: "high"
    allow_all_confirmations: true
    
  staging:
    automation_level: "medium"
    allow_safe_confirmations: true
    
  production:
    automation_level: "none"
    notify_only: true

# Security Settings
security:
  # Timeout for password cache (seconds)
  password_cache_timeout: 300
  
  # Require re-authentication after timeout
  require_reauth: true
  
  # Log all automated actions
  audit_log: true
  
  # Mask sensitive data in logs
  mask_passwords: true
  mask_commands: ["password", "token", "secret", "key"]

# Notes for Hue
notes: |
  Hey Hue! This vault system is designed to help with automation while keeping things secure.
  
  Tips:
  1. Never commit the actual vault.yaml file!
  2. Use context-specific passwords for better security
  3. Start with automation_enabled: false and test first
  4. Review logs regularly to ensure correct behavior
  5. The hash system prevents plain text passwords in configs
  
  For full automation, set automation_enabled: true in config.yaml
  and populate this vault with your common responses.
  
  Stay safe and automate responsibly! 
  - Aye 🤖